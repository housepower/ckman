(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4639b37a"],{"3cc0":function(e,t,n){"use strict";var a=n("6538"),r=n.n(a);r.a},6538:function(e,t,n){},"93f9":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"layout flex flex-column overflow-hidden"},[n("header",{staticClass:"flex-between flex-vcenter plr-20"},[n("router-link",{staticClass:"fs-18 font-bold",attrs:{to:"/"}},[e._v(e._s(e.title)+" "+e._s(e.version))]),n("div",{staticClass:"header-right"},[n("el-select",{staticClass:"mr-10 width-100",attrs:{size:"mini"},model:{value:e.$i18n.locale,callback:function(t){e.$set(e.$i18n,"locale",t)},expression:"$i18n.locale"}},[n("el-option",{attrs:{value:"en",label:"English"}}),n("el-option",{attrs:{value:"zh",label:"中文"}})],1),n("el-dropdown",{staticClass:"pointer"},[n("div",[n("i",{staticClass:"fa fa-user-o fs-20"}),n("span",{staticClass:"fs-16 ml-5 user",domProps:{textContent:e._s(e.user)}})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.logout(t)}}},[e._v(e._s(e.$t("common.Logout")))])],1)],1),n("router-link",{staticClass:"fa fa-cog fs-20 pointer ml-10",attrs:{to:"/setting"}})],1)],1),n("main",{staticClass:"plr-20 pt-10 flex-1",staticStyle:{overflow:"auto"}},[n("router-view")],1),n("transition",{attrs:{name:"el-fade-in-linear",appear:""}},[e.$route.params.id?n("footer",{staticClass:"flex-center width-full"},[n("div",{staticClass:"flex-center list-content width-1000"},e._l(e.menus,(function(t){return n("a",{key:t.name,staticClass:"flex flex-1 flex-center height-full pointer",class:{"router-active":e.currentMenu===t.name,"list-item":"Settings"!==t.name||"deploy"===e.mode},attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.handleMenuClick(t,n)}}},[n("span",{staticClass:"fs-20"},[e._v(e._s(e.$t("home."+t.name)))])])})),0)]):e._e()])],1)},r=[],s=n("a34a"),o=n.n(s),i=n("8f12"),u=n("c949");function c(e,t,n,a,r,s,o){try{var i=e[s](o),u=i.value}catch(c){return void n(c)}i.done?t(u):Promise.resolve(u).then(a,r)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var s=e.apply(t,n);function o(e){c(s,a,r,o,i,"next",e)}function i(e){c(s,a,r,o,i,"throw",e)}o(void 0)}))}}var f={name:"Layout",data:function(){return{menus:i["d"],user:"",version:"",mode:"",currentMenu:""}},mounted:function(){this.user=JSON.parse(localStorage.getItem("user")||"{}").username,this.fetchVersion()},created:function(){this.onChangeCluster()},methods:{onChangeCluster:function(){var e=this;return l(o.a.mark((function t(){var n,a,r,s,i;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.name,e.currentMenu=n,a=e.$route.params.id,a){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,u["a"].getCluster();case 7:r=t.sent,s=r.data.entity,i=s[a].mode,e.mode=i;case 11:case"end":return t.stop()}}),t)})))()},handleMenuClick:function(e){var t=this;return l(o.a.mark((function n(){return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("Settings"!==e.name){n.next=4;break}if("import"!==t.mode){n.next=4;break}return t.$message.warning(t.$t("home.The imported cluster does not support editing")),n.abrupt("return");case 4:t.$route.name!=e.name&&(t.$router.push({path:e.path}),t.currentMenu=e.name);case 5:case"end":return n.stop()}}),n)})))()},logout:function(){localStorage.removeItem("user"),this.$message.success("成功登出"),this.$router.push("/login")},fetchVersion:function(){var e=this;return l(o.a.mark((function t(){var n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["d"].getVersion();case 2:n=t.sent,a=n.data.entity,e.version=a;case 5:case"end":return t.stop()}}),t)})))()}},watch:{$route:{handler:function(e,t){this.menus="loader"===e.meta?i["c"]:i["d"],this.onChangeCluster()},immediate:!0},"$i18n.locale":function(e){localStorage.setItem("locale",e),document.title=this.title,document.documentElement.lang=e}},computed:{title:function(){return this.$t("layout.ClickHouse Management Console")}}},d=f,m=(n("3cc0"),n("2877")),h=Object(m["a"])(d,a,r,!1,null,"7ac48a0c",null);t["default"]=h.exports}}]);