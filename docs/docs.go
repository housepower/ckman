// Package docs GENERATED BY THE COMMAND ABOVE; DO NOT EDIT
// This file was generated by swaggo/swag
package docs

import (
	"bytes"
	"encoding/json"
	"strings"
	"text/template"

	"github.com/swaggo/swag"
)

var doc = `{
    "schemes": {{ marshal .Schemes }},
    "swagger": "2.0",
    "info": {
        "description": "{{escape .Description}}",
        "title": "{{.Title}}",
        "contact": {},
        "version": "{{.Version}}"
    },
    "host": "{{.Host}}",
    "basePath": "{{.BasePath}}",
    "paths": {
        "/api/login": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Login",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "用户登录",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.LoginReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5031\", \"retMsg\":\"密码校验失败\", \"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/logout": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Logout",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "user"
                ],
                "summary": "退出登录",
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"成功\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/archive/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "按时间段备份表数据",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "备份表",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ArchiveTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/cluster": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取所有集群的信息",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取所有集群信息",
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5804\",\"msg\":\"数据查询失败\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "将一个已经存在的集群导入到ckman",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "导入集群",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CkImportConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/cluster/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "根据集群名获取集群的信息",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取指定的集群信息",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\", \"data\":{\"mode\":\"import\",\"hosts\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\",\"192.168.0.4\"],\"names\":[\"node1\",\"node2\",\"node3\",\"node4\"],\"port\":9000,\"httpPort\":8123,\"user\":\"ck\",\"password\":\"123456\",\"database\":\"default\",\"cluster\":\"test\",\"zkNodes\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\"],\"zkPort\":2181,\"isReplica\":true,\"version\":\"20.8.5.45\",\"sshUser\":\"\",\"sshPassword\":\"\",\"shards\":[{\"replicas\":[{\"ip\":\"192.168.0.1\",\"hostname\":\"node1\"},{\"ip\":\"192.168.0.2\",\"hostname\":\"node2\"}]},{\"replicas\":[{\"ip\":\"192.168.0.3\",\"hostname\":\"node3\"},{\"ip\":\"192.168.0.4\",\"hostname\":\"node4\"}]}],\"path\":\"\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除一个集群，但是并没有销毁该集群",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "删除集群",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5800\",\"msg\":\"数据查询失败\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/config/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取集群配置",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取集群配置",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ArchiveTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "修改集群配置",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "修改集群配置",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ArchiveTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/ddl_queue/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查询分布式DDL",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "查询分布式DDL",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"startTime\":1609986493,\"queryDuration\":145,\"query\":\"select * from dist_sensor_dt_result_online limit 10000\",\"user\":\"default\",\"queryId\":\"8aa3de08-92c4-4102-a83d-2f5d88569dab\",\"address\":\"::1\",\"threads\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/destroy/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "销毁集群，删除所有数据，并卸载服务",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "销毁集群",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/dist-logic-table/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "创建逻辑表，如果某个物理集群上没有本地表，会同步创建",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "创建逻辑表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "logic_test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.DistLogicTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除逻辑表",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "删除逻辑表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "logic_test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.DistLogicTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/get/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取集群各个节点的状态",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取集群状态",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":{\"test\":{\"mode\":\"import\",\"hosts\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\",\"192.168.0.4\"],\"names\":[\"node1\",\"node2\",\"node3\",\"node4\"],\"port\":9000,\"httpPort\":8123,\"user\":\"ck\",\"password\":\"123456\",\"database\":\"default\",\"cluster\":\"test\",\"zkNodes\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\"],\"zkPort\":2181,\"isReplica\":true,\"version\":\"20.8.5.45\",\"sshUser\":\"\",\"sshPassword\":\"\",\"shards\":[{\"replicas\":[{\"ip\":\"192.168.0.1\",\"hostname\":\"node1\"},{\"ip\":\"192.168.0.2\",\"hostname\":\"node2\"}]},{\"replicas\":[{\"ip\":\"192.168.0.3\",\"hostname\":\"node3\"},{\"ip\":\"192.168.0.4\",\"hostname\":\"node4\"}]}],\"path\":\"\"}}}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/node/log/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取clickhouse日志",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取clickhouse日志",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.GetLogReq"
                        }
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/node/start/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "将集群内的某一个节点上线",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "上线节点",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/node/stop/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "将集群内的某一个节点下线",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "下线节点",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/node/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "增加集群节点，可对已有shard增加副本，也可直接增加新的shard",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "增加集群节点",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.AddNodeReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除节点",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "删除节点",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "192.168.101.105",
                        "description": "node ip address",
                        "name": "ip",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/open-sessions/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查询正在进行的会话",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "查询正在进行的会话",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "10",
                        "description": "sessions limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"startTime\":1609997894,\"queryDuration\":1,\"query\":\"SELECT DISTINCT name FROM system.tables\",\"user\":\"eoi\",\"queryId\":\"62dce71d-9294-4e47-9d9b-cf298f73233d\",\"address\":\"192.168.21.73\",\"threads\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "终止正在进行的会话",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "终止正在进行的会话",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "host",
                        "name": "host",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "query_id",
                        "name": "query_id",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"startTime\":1609997894,\"queryDuration\":1,\"query\":\"SELECT DISTINCT name FROM system.tables\",\"user\":\"eoi\",\"queryId\":\"62dce71d-9294-4e47-9d9b-cf298f73233d\",\"address\":\"192.168.21.73\",\"threads\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/partition/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取分区信息",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取分区信息",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/ping/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "探测集群是否可以正常对外提供服务",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "Ping集群是否健康",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.PingClusterReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/purge-tables/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除表某个时间范围内的数据",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "删除表某个时间范围内的数据",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.PurgerTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/query-explain/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查看执行计划",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "执行计划",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/query-history/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "SQL查询历史",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "SQL查询历史",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除查询历史",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "删除查询历史",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/query/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查询SQL",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "查询SQL",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "show databases",
                        "description": "sql",
                        "name": "query",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[[\"name\"],[\"default\"],[\"system\"]]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/query_export/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查询SQL",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "查询SQL",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "show databases",
                        "description": "sql",
                        "name": "query",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[[\"name\"],[\"default\"],[\"system\"]]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/rebalance/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "均衡集群，可以按照partition和shardingkey均衡，如果没有指定shardingkey，默认按照",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "均衡集群",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.RebalanceTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "true",
                        "description": "if all = true, rebalance all tables, else only rebalance tables witch in requests",
                        "name": "all",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/slow-sessions/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查询慢SQL",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "查询慢SQL",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "10",
                        "description": "sessions limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "sessions limit",
                        "name": "start",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "sessions limit",
                        "name": "end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"startTime\":1609986493,\"queryDuration\":145,\"query\":\"select * from dist_sensor_dt_result_online limit 10000\",\"user\":\"default\",\"queryId\":\"8aa3de08-92c4-4102-a83d-2f5d88569dab\",\"address\":\"::1\",\"threads\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/start/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "启动集群里所有节点的ck服务，会跳过已经启动的节点",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "启动集群",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/stop/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "停止集群内所有节点，会跳过已经停止的节点",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "停止集群",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table-all/{clusterName}": {
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除指定表及其所有关联表，包括本地表，分布式表，逻辑表，物化视图，本地聚合表，分布式聚合表，逻辑聚合表，聚合物化视图",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "删除指定表及其所有关联表，包括本地表，分布式表，逻辑表，物化视图， 本地聚合表，分布式聚合表，逻辑聚合表，聚合物化视图",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "default",
                        "description": "database name",
                        "name": "database",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "test_table",
                        "description": "table name",
                        "name": "tableName",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table-lists/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取所有的分布式表和逻辑表",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取分布式表List",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":{\\\"default\\\":{\\\"dist_centers\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_centers111\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_ckcenters\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_ckcenters2\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_centers\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_centers111\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_ckcenters\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_ckcenters2\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"]}}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table-merges/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取表merge指标",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取表merge指标",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":{\"sensor_dt_result_online\":{\"columns\":22,\"rows\":1381742496,\"parts\":192,\"space\":54967700946,\"completedQueries\":5,\"failedQueries\":0,\"queryCost\":{\"middle\":130,\"secondaryMax\":160.76,\"max\":162}}}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table-metric/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取标指标",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "获取表指标",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "default",
                        "description": "filtered by database, if database is empty, select all databases",
                        "name": "database",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "columns,partitions,parts,compressed,uncompressed,is_readonly,queries,cost",
                        "description": "return columns, if columns is empty, return all columns",
                        "name": "columns",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":{\"sensor_dt_result_online\":{\"columns\":22,\"rows\":1381742496,\"parts\":192,\"space\":54967700946,\"completedQueries\":5,\"failedQueries\":0,\"queryCost\":{\"middle\":130,\"secondaryMax\":160.76,\"max\":162}}}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table-schema/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查看建表语句",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "查看建表语句",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":\"{\\\"create_table_query\\\": \\\"CREATE TABLE default.apache_access_log (` + "`" + `@collectiontime` + "`" + ` DateTime, ` + "`" + `@hostname` + "`" + ` LowCardinality(String), ` + "`" + `@ip` + "`" + ` LowCardinality(String), ` + "`" + `@path` + "`" + ` String, ` + "`" + `@lineno` + "`" + ` Int64, ` + "`" + `@message` + "`" + ` String, ` + "`" + `agent` + "`" + ` String, ` + "`" + `auth` + "`" + ` String, ` + "`" + `bytes` + "`" + ` Int64, ` + "`" + `clientIp` + "`" + ` String, ` + "`" + `device_family` + "`" + ` LowCardinality(String), ` + "`" + `httpversion` + "`" + ` LowCardinality(String), ` + "`" + `ident` + "`" + ` String, ` + "`" + `os_family` + "`" + ` LowCardinality(String), ` + "`" + `os_major` + "`" + ` LowCardinality(String), ` + "`" + `os_minor` + "`" + ` LowCardinality(String), ` + "`" + `referrer` + "`" + ` String, ` + "`" + `request` + "`" + ` String, ` + "`" + `requesttime` + "`" + ` Float64, ` + "`" + `response` + "`" + ` LowCardinality(String), ` + "`" + `timestamp` + "`" + ` DateTime64(3), ` + "`" + `userAgent_family` + "`" + ` LowCardinality(String), ` + "`" + `userAgent_major` + "`" + ` LowCardinality(String), ` + "`" + `userAgent_minor` + "`" + ` LowCardinality(String), ` + "`" + `verb` + "`" + ` LowCardinality(String), ` + "`" + `xforwardfor` + "`" + ` LowCardinality(String)) ENGINE = ReplicatedMergeTree('/clickhouse/tables/{cluster}/{shard}/default/apache_access_log', '{replica}') PARTITION BY toYYYYMMDD(timestamp) ORDER BY (timestamp, ` + "`" + `@hostname` + "`" + `, ` + "`" + `@path` + "`" + `, ` + "`" + `@lineno` + "`" + `) SETTINGS index_granularity = 8192 │ ReplicatedMergeTree('/clickhouse/tables/{cluster}/{shard}/default/apache_access_log', '{replica}') PARTITION BY toYYYYMMDD(timestamp) ORDER BY (timestamp, ` + "`" + `@hostname` + "`" + `, ` + "`" + `@path` + "`" + `, ` + "`" + `@lineno` + "`" + `) SETTINGS index_granularity = 8192\\\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table/dml/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "更新/删除表中的数据",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "更新/删除表中的数据",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.DMLOnLogicReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5809\",\"msg\":\"修改表失败\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table/group-uniq-array/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "查询groupUniqArray聚合视图，拿到指定",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "查询groupUniqArray聚合视图",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5804\",\"msg\":\"数据查询失败\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "使用groupUniqArray创建本地聚合表，本地物化视图，分布式聚合表，分布式视图",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "使用groupUniqArray创建本地聚合表，本地物化视图，分布式聚合表，分布式视图",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.GroupUniqArrayReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5808\",\"msg\":\"创建表失败\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Delete Materialized View with groupUniqArray",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "DelGroupUniqArray",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5810\",\"msg\":\"删除表失败\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table/orderby/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "修改表的order by字段，顺序",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "修改表order by字段",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.OrderbyReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5809\",\"msg\":\"修改表失败\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table/readonly/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "恢复表只读状态",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "修复表只读状态",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5814\",\"msg\":\"恢复表失败\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table/ttl/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "修改表TTL",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "修改表TTL",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.AlterTblsTTLReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5809\",\"msg\":\"修改表失败\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table/view/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "创建/修改物化视图",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "创建/修改物化视图",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.MaterializedViewReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5809\",\"msg\":\"修改表失败\",\"data\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/table/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "描述表的schema",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "描述表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "default",
                        "description": "database name",
                        "name": "database",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "test_table",
                        "description": "table name",
                        "name": "tableName",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "test_table",
                        "description": "table name",
                        "name": "tableName",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"name\":\"_timestamp\",\"type\":\"DateTime\",\"defaultType\":\"\",\"defaultExpression\":\"\",\"comment\":\"\",\"codecExpression\":\"\",\"ttlExpression\":\"\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "修改表schema",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "修改表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.AlterCkTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5809\",\"msg\":\"修改表失败\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "在集群上创建本地表和分布式表",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "创建表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CreateCkTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除本地表以及分布式表",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "删除表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "default",
                        "description": "database name",
                        "name": "database",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "test_table",
                        "description": "table name",
                        "name": "tableName",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/truncate-table/{clusterName}": {
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "清空表数据",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "清空表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.AlterCkTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5803\",\"msg\":\"数据删除失败\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/ck/upgrade/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "升级集群，支持全量升级和滚动升级",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "clickhouse"
                ],
                "summary": "升级集群",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CkUpgradeCkReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/deploy/ck": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "使用ckman创建集群",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "deploy"
                ],
                "summary": "创建集群",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CKManClickHouseConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/metric/query-range/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "通过PromQL查询范围指标，可指定时间段",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "metrics"
                ],
                "summary": "查询范围指标",
                "parameters": [
                    {
                        "type": "string",
                        "default": "ClickHouseMetrics_Read",
                        "description": "metric name",
                        "name": "metric",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "1606290000",
                        "description": "start time",
                        "name": "start",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "1606290120",
                        "description": "end time",
                        "name": "end",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "60",
                        "description": "step window",
                        "name": "step",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"metric\":{\"__name__\":\"ClickHouseMetrics_Read\",\"instance\":\"192.168.101.105:9363\",\"job\":\"clickhouse_exporter\"},\"values\":[[1606290000,\"2\"],[1606290060,\"2\"],[1606290120,\"2\"]]}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/metric/query/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "通过promQL查询性能指标",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "metrics"
                ],
                "summary": "查询性能指标",
                "parameters": [
                    {
                        "type": "string",
                        "default": "ClickHouseMetrics_Read",
                        "description": "metric name",
                        "name": "metric",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "1606290000",
                        "description": "metric time",
                        "name": "time",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"metric\":{\"__name__\":\"ClickHouseMetrics_Read\",\"instance\":\"192.168.101.105:9363\",\"job\":\"clickhouse_exporter\"},\"value\":[1606290000,\"2\"]}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/package": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取安装包列表",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "package"
                ],
                "summary": "获取安装包列表",
                "parameters": [
                    {
                        "type": "string",
                        "default": "all",
                        "description": "pkgType",
                        "name": "pkgType",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":[{\"version\":\"22.3.9.19\",\"pkgType\":\"x86_64.rpm\",\"pkgName\":\"clickhouse-common-static-22.3.9.19.x86_64.rpm\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "需要同时上传三个包，包括client、server和common",
                "consumes": [
                    "application/json",
                    "multipart/form-data"
                ],
                "tags": [
                    "package"
                ],
                "summary": "上传安装包",
                "parameters": [
                    {
                        "type": "file",
                        "description": "package",
                        "name": "package",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "删除安装包",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "package"
                ],
                "summary": "删除安装包",
                "parameters": [
                    {
                        "type": "string",
                        "default": "22.3.9.19",
                        "description": "package version",
                        "name": "packageVersion",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "x86_64.rpm",
                        "description": "package type",
                        "name": "pkgType",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/task/lists": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取所有的任务列表",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "task"
                ],
                "summary": "获取任务列表",
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":[{\\\"TaskId\\\":\\\"608e9e83-715e-7448-a149-9bef33f38cfe\\\",\\\"ClusterName\\\":\\\"usertest\\\",\\\"Type\\\":\\\"clickhouse\\\",\\\"Option\\\":{\\\"ZH\\\":\\\"升级集群\\\",\\\"EN\\\":\\\"Upgrade\\\"},\\\"Status\\\":\\\"Success\\\",\\\"Message\\\":\\\"Success\\\",\\\"CreateTime\\\":\\\"2022-08-15T10:38:52.319504494+08:00\\\",\\\"UpdateTime\\\":\\\"2022-08-15T10:39:22.177215927+08:00\\\",\\\"Duration\\\":\\\"29s\\\"},{\\\"TaskId\\\":\\\"c6ee8843-36ba-4c88-94dd-0f226cdf8377\\\",\\\"ClusterName\\\":\\\"abc\\\",\\\"Type\\\":\\\"clickhouse\\\",\\\"Option\\\":{\\\"ZH\\\":\\\"设置集群\\\",\\\"EN\\\":\\\"Setting\\\"},\\\"Status\\\":\\\"Success\\\",\\\"Message\\\":\\\"Success\\\",\\\"CreateTime\\\":\\\"2022-08-09T14:28:00.697211511+08:00\\\",\\\"UpdateTime\\\":\\\"2022-08-09T14:28:59.887673161+08:00\\\",\\\"Duration\\\":\\\"59s\\\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/task/running": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取正在运行的任务个数",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "task"
                ],
                "summary": "获取正在运行的任务个数",
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":3}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/task/{taskId}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "根据任务ID获取任务状态",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "task"
                ],
                "summary": "获取任务状态",
                "parameters": [
                    {
                        "type": "string",
                        "default": "608e9e83-715e-7448-a149-9bef33f38cfe",
                        "description": "task id",
                        "name": "taskId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"data\":{\\\"TaskId\\\":\\\"608e9e83-715e-7448-a149-9bef33f38cfe\\\",\\\"ClusterName\\\":\\\"usertest\\\",\\\"Type\\\":\\\"clickhouse\\\",\\\"Option\\\":{\\\"ZH\\\":\\\"升级集群\\\",\\\"EN\\\":\\\"Upgrade\\\"},\\\"NodeStatus\\\":[{\\\"Host\\\":\\\"192.168.110.10\\\",\\\"Status\\\":{\\\"ZH\\\":\\\"上传安装包\\\",\\\"EN\\\":\\\"Prepare\\\"}},{\\\"Host\\\":\\\"192.168.110.12\\\",\\\"Status\\\":{\\\"ZH\\\":\\\"上传安装包\\\",\\\"EN\\\":\\\"Prepare\\\"}},{\\\"Host\\\":\\\"192.168.110.14\\\",\\\"Status\\\":{\\\"ZH\\\":\\\"上传安装包\\\",\\\"EN\\\":\\\"Prepare\\\"}}]}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "停止指定的任务，注意该动作只是修改了任务状态，实际任务并没有停止",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "task"
                ],
                "summary": "停止任务",
                "parameters": [
                    {
                        "type": "string",
                        "default": "608e9e83-715e-7448-a149-9bef33f38cfe",
                        "description": "taskId",
                        "name": "taskId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"msg\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "根据任务ID删除指定的任务",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "task"
                ],
                "summary": "删除任务",
                "parameters": [
                    {
                        "type": "string",
                        "default": "608e9e83-715e-7448-a149-9bef33f38cfe",
                        "description": "taskId",
                        "name": "taskId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"success\",\"msg\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/zk/replicated-table/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "获取ReplicatedMergeTree表的log_pointer状态",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "zookeeper"
                ],
                "summary": "获取复制表状态",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"0000\",\"msg\":\"ok\",\"data\":{\"header\":[[\"vm101106\",\"vm101108\"],[\"vm102114\",\"vm101110\"],[\"vm102116\",\"vm102115\"]],\"tables\":[{\"name\":\"sensor_dt_result_online\",\"values\":[[\"l1846\",\"f1846\"],[\"l1845\",\"f1845\"],[\"l1846\",\"f1846\"]]}]}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v2/zk/status/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "访问8080端口，获取mntr信息",
                "consumes": [
                    "application/json"
                ],
                "tags": [
                    "zookeeper"
                ],
                "summary": "获取zookeeper状态",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"code\":\"5080\",\"msg\":\"get zk status fail\",\"data\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "model.AddNodeReq": {
            "type": "object",
            "properties": {
                "ips": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.0.1",
                        "192.168.0.2"
                    ]
                },
                "shard": {
                    "type": "integer",
                    "example": 3
                }
            }
        },
        "model.AlterCkTableReq": {
            "type": "object",
            "properties": {
                "add": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableNameTypeAfter"
                    }
                },
                "add_indexes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Index"
                    }
                },
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "dist_name": {
                    "type": "string"
                },
                "drop": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "age"
                    ]
                },
                "drop_indexes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Index"
                    }
                },
                "modify": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableNameType"
                    }
                },
                "name": {
                    "type": "string",
                    "example": "test_table"
                },
                "projections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Projection"
                    }
                },
                "rename": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableRename"
                    }
                }
            }
        },
        "model.AlterTblTTL": {
            "type": "object",
            "properties": {
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "distName": {
                    "type": "string",
                    "example": "distt1"
                },
                "tableName": {
                    "type": "string",
                    "example": "t1"
                }
            }
        },
        "model.AlterTblsTTLReq": {
            "type": "object",
            "properties": {
                "tables": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.AlterTblTTL"
                    }
                },
                "ttl": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableTTL"
                    }
                },
                "ttl_type": {
                    "type": "string",
                    "example": "MODIFY"
                }
            }
        },
        "model.ArchiveHdfs": {
            "type": "object",
            "properties": {
                "addr": {
                    "type": "string",
                    "example": "localhost:8020"
                },
                "dir": {
                    "type": "string",
                    "example": "/data01"
                },
                "user": {
                    "type": "string",
                    "example": "hdfs"
                }
            }
        },
        "model.ArchiveLocal": {
            "type": "object",
            "properties": {
                "Path": {
                    "type": "string",
                    "example": "/data01/clickhouse/backup/"
                }
            }
        },
        "model.ArchiveS3": {
            "type": "object",
            "properties": {
                "AccessKeyID": {
                    "type": "string",
                    "example": "KZOqVTra982w51MK"
                },
                "Bucket": {
                    "type": "string",
                    "example": "ckman.backup"
                },
                "Compression": {
                    "description": "none, gzip/gz, brotli/br, xz/LZMA, zstd/zst",
                    "type": "string",
                    "example": "gzip"
                },
                "Endpoint": {
                    "type": "string",
                    "example": "http://192.168.110.8:49000"
                },
                "Region": {
                    "type": "string",
                    "example": "zh-west-1"
                },
                "SecretAccessKey": {
                    "type": "string",
                    "example": "7Zsdaywu7i5C2AyvLkbupSyVlIzP8qJ0"
                }
            }
        },
        "model.ArchiveTableReq": {
            "type": "object",
            "properties": {
                "begin": {
                    "description": "include",
                    "type": "string",
                    "example": "2021-01-01"
                },
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "end": {
                    "description": "exclude",
                    "type": "string",
                    "example": "2021-04-01"
                },
                "format": {
                    "description": "pq, csv, orc",
                    "type": "string"
                },
                "hdfs": {
                    "$ref": "#/definitions/model.ArchiveHdfs"
                },
                "local": {
                    "$ref": "#/definitions/model.ArchiveLocal"
                },
                "maxfilesize": {
                    "type": "integer",
                    "example": 10000000000
                },
                "s3": {
                    "$ref": "#/definitions/model.ArchiveS3"
                },
                "tables": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "t1",
                        "t2",
                        "t3"
                    ]
                },
                "target": {
                    "description": "hdfs, local, remote",
                    "type": "string",
                    "example": "hdfs"
                }
            }
        },
        "model.CKManClickHouseConfig": {
            "type": "object",
            "properties": {
                "authenticateType": {
                    "type": "integer",
                    "example": 0
                },
                "cluster": {
                    "type": "string",
                    "example": "test"
                },
                "comment": {
                    "type": "string",
                    "example": "test"
                },
                "cwd": {
                    "type": "string",
                    "example": "/home/eoi/clickhouse"
                },
                "expert": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "hosts": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.0.1",
                        "192.168.0.2",
                        "192.168.0.3",
                        "192.168.0.4"
                    ]
                },
                "httpPort": {
                    "type": "integer",
                    "example": 8123
                },
                "isReplica": {
                    "type": "boolean",
                    "example": true
                },
                "keeper": {
                    "type": "string",
                    "example": "zookeeper"
                },
                "keeperConf": {
                    "$ref": "#/definitions/model.KeeperConf"
                },
                "logic_cluster": {
                    "type": "string",
                    "example": "logic_test"
                },
                "password": {
                    "type": "string",
                    "example": "123456"
                },
                "path": {
                    "type": "string",
                    "example": "/var/lib/"
                },
                "pkgName": {
                    "type": "string",
                    "example": "clickhouse-common-static-22.3.3.44.noarch.rpm"
                },
                "pkgType": {
                    "type": "string",
                    "example": "x86_64.rpm"
                },
                "port": {
                    "type": "integer",
                    "example": 9000
                },
                "promHost": {
                    "type": "string",
                    "example": "127.0.0.1"
                },
                "promMetricPort": {
                    "$ref": "#/definitions/model.PromMetricPort"
                },
                "promPort": {
                    "type": "integer",
                    "example": 9090
                },
                "protocol": {
                    "type": "string",
                    "example": "native"
                },
                "secure": {
                    "type": "boolean"
                },
                "sshPassword": {
                    "type": "string",
                    "example": "123456"
                },
                "sshPort": {
                    "type": "integer",
                    "example": 22
                },
                "sshUser": {
                    "type": "string",
                    "example": "root"
                },
                "storage": {
                    "$ref": "#/definitions/model.Storage"
                },
                "user": {
                    "type": "string",
                    "example": "ck"
                },
                "version": {
                    "type": "string",
                    "example": "21.9.1.7647"
                },
                "zkNodes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.0.1",
                        "192.168.0.2",
                        "192.168.0.3"
                    ]
                },
                "zkPort": {
                    "type": "integer",
                    "example": 2181
                }
            }
        },
        "model.CkImportConfig": {
            "type": "object",
            "properties": {
                "cluster": {
                    "type": "string",
                    "example": "test"
                },
                "hosts": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.101.105",
                        "192.168.101.107"
                    ]
                },
                "httpPort": {
                    "type": "integer",
                    "example": 8123
                },
                "logic_cluster": {
                    "type": "string",
                    "example": "logic_test"
                },
                "password": {
                    "type": "string",
                    "example": "123456"
                },
                "port": {
                    "type": "integer",
                    "example": 9000
                },
                "prom_host": {
                    "type": "string",
                    "example": "127.0.01"
                },
                "prom_port": {
                    "type": "integer",
                    "example": 9090
                },
                "protocol": {
                    "type": "string",
                    "example": "native"
                },
                "secure": {
                    "type": "boolean",
                    "example": false
                },
                "user": {
                    "type": "string",
                    "example": "ck"
                },
                "zkNodes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.101.102",
                        "192.168.101.105",
                        "192.168.101.107"
                    ]
                },
                "zkPort": {
                    "type": "integer",
                    "example": 2181
                }
            }
        },
        "model.CkTableNameType": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "options": {
                    "description": "example:[\"DEFAULT now()\", \"CODEC(NONE)\"]",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "type": {
                    "type": "string",
                    "example": "DateTime"
                }
            }
        },
        "model.CkTableNameTypeAfter": {
            "type": "object",
            "properties": {
                "after": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "name": {
                    "type": "string",
                    "example": "age"
                },
                "options": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "DEFAULT now()",
                        "CODEC(NONE)",
                        "COMMENT",
                        "年龄"
                    ]
                },
                "type": {
                    "type": "string",
                    "example": "Int32"
                }
            }
        },
        "model.CkTablePartition": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "policy": {
                    "description": "0 split partition by day\n1 split partition by week\n2 split partition by month",
                    "type": "integer",
                    "example": 0
                }
            }
        },
        "model.CkTableRename": {
            "type": "object",
            "properties": {
                "from": {
                    "type": "string",
                    "example": "col_old"
                },
                "to": {
                    "type": "string",
                    "example": "col_new"
                }
            }
        },
        "model.CkTableTTL": {
            "type": "object",
            "properties": {
                "action": {
                    "type": "string",
                    "example": "toVolume"
                },
                "interval": {
                    "type": "integer",
                    "example": 3
                },
                "target": {
                    "type": "string",
                    "example": "main"
                },
                "time_column": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "unit": {
                    "type": "string",
                    "example": "MONTH"
                }
            }
        },
        "model.CkUpgradeCkReq": {
            "type": "object",
            "properties": {
                "packageVersion": {
                    "type": "string",
                    "example": "22.3.6.5"
                },
                "policy": {
                    "type": "string",
                    "example": "Rolling"
                },
                "skip": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "model.Coordination": {
            "type": "object",
            "properties": {
                "autoForwarding": {
                    "type": "boolean"
                },
                "expert": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "forceSync": {
                    "type": "boolean"
                },
                "operationTimeoutMs": {
                    "type": "integer"
                },
                "sessionTimeoutMs": {
                    "type": "integer"
                }
            }
        },
        "model.CreateCkTableReq": {
            "type": "object",
            "properties": {
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "dist_table": {
                    "type": "string"
                },
                "distinct": {
                    "type": "boolean",
                    "example": true
                },
                "dryrun": {
                    "type": "boolean",
                    "example": false
                },
                "fields": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableNameType"
                    }
                },
                "force_create": {
                    "type": "boolean"
                },
                "indexes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Index"
                    }
                },
                "name": {
                    "type": "string",
                    "example": "test_table"
                },
                "order": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "_timestamp"
                    ]
                },
                "partition": {
                    "$ref": "#/definitions/model.CkTablePartition"
                },
                "projections": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Projection"
                    }
                },
                "storage_policy": {
                    "type": "string",
                    "example": "external"
                },
                "ttl": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableTTL"
                    }
                }
            }
        },
        "model.DMLOnLogicReq": {
            "type": "object",
            "properties": {
                "cond": {
                    "type": "string"
                },
                "database": {
                    "type": "string"
                },
                "kv": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "manipulation": {
                    "type": "string"
                },
                "table": {
                    "type": "string"
                }
            }
        },
        "model.Disk": {
            "type": "object",
            "properties": {
                "allowedBackup": {
                    "type": "boolean",
                    "example": true
                },
                "diskHdfs": {
                    "$ref": "#/definitions/model.DiskHdfs"
                },
                "name": {
                    "type": "string",
                    "example": "hdfs1"
                },
                "type": {
                    "type": "string",
                    "example": "hdfs"
                }
            }
        },
        "model.DiskHdfs": {
            "type": "object",
            "properties": {
                "endpoint": {
                    "type": "string",
                    "example": "hdfs://localhost:8020/clickhouse/data/test/"
                }
            }
        },
        "model.DistLogicTableReq": {
            "type": "object",
            "properties": {
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "dist_name": {
                    "type": "string",
                    "example": "dist_table"
                },
                "table_name": {
                    "type": "string",
                    "example": "test_table"
                }
            }
        },
        "model.GetLogReq": {
            "type": "object",
            "properties": {
                "lines": {
                    "type": "integer",
                    "example": 1000
                },
                "logType": {
                    "type": "string",
                    "example": "normal"
                },
                "tail": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "model.GroupUniqArrayField": {
            "type": "object",
            "properties": {
                "defaultValue": {
                    "description": "默认值",
                    "type": "string"
                },
                "maxSize": {
                    "description": "聚合条数",
                    "type": "integer"
                },
                "name": {
                    "description": "字段名",
                    "type": "string"
                }
            }
        },
        "model.GroupUniqArrayReq": {
            "type": "object",
            "properties": {
                "database": {
                    "description": "数据库",
                    "type": "string"
                },
                "fields": {
                    "description": "聚合字段",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.GroupUniqArrayField"
                    }
                },
                "populate": {
                    "description": "是否要同步存量数据",
                    "type": "boolean"
                },
                "table": {
                    "description": "原始表名",
                    "type": "string"
                },
                "timeField": {
                    "description": "时间字段",
                    "type": "string"
                }
            }
        },
        "model.Index": {
            "type": "object",
            "properties": {
                "field": {
                    "type": "string"
                },
                "granularity": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "type": {
                    "description": "minmax, set, bloom_filter, ngrambf_v1, tokenbf_v1",
                    "type": "string"
                }
            }
        },
        "model.KeeperConf": {
            "type": "object",
            "properties": {
                "coordination": {
                    "$ref": "#/definitions/model.Coordination"
                },
                "expert": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "keeperNodes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.101.102",
                        "192.168.101.105",
                        "192.168.101.107"
                    ]
                },
                "logPath": {
                    "type": "string"
                },
                "raftPort": {
                    "type": "integer",
                    "example": 9234
                },
                "runtime": {
                    "type": "string",
                    "example": "standalone"
                },
                "snapshotPath": {
                    "type": "string"
                },
                "tcpPort": {
                    "type": "integer",
                    "example": 9181
                }
            }
        },
        "model.LoginReq": {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string",
                    "example": "63cb91a2ceb9d4f7c8b1ba5e50046f52"
                },
                "username": {
                    "type": "string",
                    "example": "ckman"
                }
            }
        },
        "model.MaterializedViewReq": {
            "type": "object",
            "properties": {
                "database": {
                    "type": "string"
                },
                "dryrun": {
                    "type": "boolean"
                },
                "engine": {
                    "type": "string"
                },
                "name": {
                    "type": "string"
                },
                "operate": {
                    "type": "integer"
                },
                "order": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "partition": {
                    "$ref": "#/definitions/model.CkTablePartition"
                },
                "populate": {
                    "type": "boolean"
                },
                "statement": {
                    "type": "string"
                }
            }
        },
        "model.OrderbyReq": {
            "type": "object",
            "properties": {
                "database": {
                    "type": "string"
                },
                "dist_name": {
                    "type": "string"
                },
                "orderby": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "partitionby": {
                    "$ref": "#/definitions/model.CkTablePartition"
                },
                "table": {
                    "type": "string"
                }
            }
        },
        "model.PingClusterReq": {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string",
                    "example": "123456"
                },
                "user": {
                    "type": "string",
                    "example": "ck"
                }
            }
        },
        "model.Policy": {
            "type": "object",
            "properties": {
                "moveFactor": {
                    "type": "number",
                    "example": 0.1
                },
                "name": {
                    "type": "string",
                    "example": "hdfs_only"
                },
                "volumns": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Volumn"
                    }
                }
            }
        },
        "model.Projection": {
            "type": "object",
            "properties": {
                "action": {
                    "type": "integer"
                },
                "name": {
                    "type": "string"
                },
                "sql": {
                    "type": "string"
                }
            }
        },
        "model.PromMetricPort": {
            "type": "object",
            "properties": {
                "clickHouse": {
                    "type": "integer"
                },
                "nodeExport": {
                    "type": "integer"
                },
                "zooKeeper": {
                    "type": "integer"
                }
            }
        },
        "model.PurgerTableReq": {
            "type": "object",
            "properties": {
                "begin": {
                    "type": "string",
                    "example": "2021-01-01"
                },
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "end": {
                    "type": "string",
                    "example": "2021-04-01"
                },
                "tables": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "t1",
                        "t2",
                        "t3"
                    ]
                }
            }
        },
        "model.RebalanceShardingkey": {
            "type": "object",
            "properties": {
                "allowLossRate": {
                    "type": "number",
                    "example": 0.1
                },
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "saveTemps": {
                    "type": "boolean",
                    "example": true
                },
                "shardingKey": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "table": {
                    "type": "string",
                    "example": "t123"
                }
            }
        },
        "model.RebalanceTableReq": {
            "type": "object",
            "properties": {
                "except_max_shard": {
                    "description": "remove the max shard's data to other shards",
                    "type": "boolean"
                },
                "keys": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.RebalanceShardingkey"
                    }
                }
            }
        },
        "model.Storage": {
            "type": "object",
            "properties": {
                "disks": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Disk"
                    }
                },
                "policies": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Policy"
                    }
                }
            }
        },
        "model.Volumn": {
            "type": "object",
            "properties": {
                "disks": {
                    "description": "Every disk shall be in storage.Disks",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "default",
                        "hdfs1"
                    ]
                },
                "maxDataPartSizeBytes": {
                    "type": "integer",
                    "example": 10000000
                },
                "name": {
                    "type": "string",
                    "example": "main"
                },
                "preferNotToMerge": {
                    "type": "string",
                    "example": "true"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "token",
            "in": "header"
        }
    }
}`

type swaggerInfo struct {
	Version     string
	Host        string
	BasePath    string
	Schemes     []string
	Title       string
	Description string
}

// SwaggerInfo holds exported Swagger Info so clients can modify it
var SwaggerInfo = swaggerInfo{
	Version:     "2.0",
	Host:        "",
	BasePath:    "/",
	Schemes:     []string{},
	Title:       "CKMAN API",
	Description: "",
}

type s struct{}

func (s *s) ReadDoc() string {
	sInfo := SwaggerInfo
	sInfo.Description = strings.Replace(sInfo.Description, "\n", "\\n", -1)

	t, err := template.New("swagger_info").Funcs(template.FuncMap{
		"marshal": func(v interface{}) string {
			a, _ := json.Marshal(v)
			return string(a)
		},
		"escape": func(v interface{}) string {
			// escape tabs
			str := strings.Replace(v.(string), "\t", "\\t", -1)
			// replace " with \", and if that results in \\", replace that with \\\"
			str = strings.Replace(str, "\"", "\\\"", -1)
			return strings.Replace(str, "\\\\\"", "\\\\\\\"", -1)
		},
	}).Parse(doc)
	if err != nil {
		return doc
	}

	var tpl bytes.Buffer
	if err := t.Execute(&tpl, sInfo); err != nil {
		return doc
	}

	return tpl.String()
}

func init() {
	swag.Register(swag.Name, &s{})
}
