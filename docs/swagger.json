{
    "swagger": "2.0",
    "info": {
        "title": "Swagger Example API",
        "contact": {},
        "version": "1.0"
    },
    "basePath": "/",
    "paths": {
        "/api/login": {
            "post": {
                "description": "Login",
                "summary": "Login",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.LoginReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":{\"username\":\"ckman\",\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/logout": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Logout",
                "summary": "Logout",
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/archive/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "archive tables to hdfs",
                "summary": "Archive Tables to HDFS",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ArchiveTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/cluster": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get ClickHouse cluster",
                "summary": "Get config of all ClickHouse cluster",
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5065\",\"retMsg\":\"get ClickHouse cluster information failed\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Import a ClickHouse cluster",
                "summary": "Import a ClickHouse cluster",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CkImportConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/cluster/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get config of a ClickHouse cluster",
                "summary": "Get config of a ClickHouse cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\", \"entity\":{\"mode\":\"import\",\"hosts\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\",\"192.168.0.4\"],\"names\":[\"node1\",\"node2\",\"node3\",\"node4\"],\"port\":9000,\"httpPort\":8123,\"user\":\"ck\",\"password\":\"123456\",\"database\":\"default\",\"cluster\":\"test\",\"zkNodes\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\"],\"zkPort\":2181,\"zkStatusPort\":8080,\"isReplica\":true,\"version\":\"20.8.5.45\",\"sshUser\":\"\",\"sshPassword\":\"\",\"shards\":[{\"replicas\":[{\"ip\":\"192.168.0.1\",\"hostname\":\"node1\"},{\"ip\":\"192.168.0.2\",\"hostname\":\"node2\"}]},{\"replicas\":[{\"ip\":\"192.168.0.3\",\"hostname\":\"node3\"},{\"ip\":\"192.168.0.4\",\"hostname\":\"node4\"}]}],\"path\":\"\"}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Delete a ClickHouse cluster",
                "summary": "Delete a ClickHouse cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5045\",\"retMsg\":\"delete cluster failed\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/config/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "get cluster config",
                "summary": "get cluster config",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ArchiveTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "update cluster config",
                "summary": "cluster setting",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.ArchiveTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/destroy/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Destroy ClickHouse cluster",
                "summary": "Destroy ClickHouse cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/dist_logic_table/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Create Distribute Table on logic cluster",
                "summary": "Create Distribute Table on logic cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "logic_test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.DistLogicTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Delete Distribute Table on logic cluster",
                "summary": "Delete Distribute Table on logic cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "logic_test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.DistLogicTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/get/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get ClickHouse cluster status",
                "summary": "Get ClickHouse cluster status",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":{\"test\":{\"mode\":\"import\",\"hosts\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\",\"192.168.0.4\"],\"names\":[\"node1\",\"node2\",\"node3\",\"node4\"],\"port\":9000,\"httpPort\":8123,\"user\":\"ck\",\"password\":\"123456\",\"database\":\"default\",\"cluster\":\"test\",\"zkNodes\":[\"192.168.0.1\",\"192.168.0.2\",\"192.168.0.3\"],\"zkPort\":2181,\"zkStatusPort\":8080,\"isReplica\":true,\"version\":\"20.8.5.45\",\"sshUser\":\"\",\"sshPassword\":\"\",\"shards\":[{\"replicas\":[{\"ip\":\"192.168.0.1\",\"hostname\":\"node1\"},{\"ip\":\"192.168.0.2\",\"hostname\":\"node2\"}]},{\"replicas\":[{\"ip\":\"192.168.0.3\",\"hostname\":\"node3\"},{\"ip\":\"192.168.0.4\",\"hostname\":\"node4\"}]}],\"path\":\"\"}}}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/node/log/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get ClickHouse Log",
                "summary": "GetLog",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.GetLogReq"
                        }
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/node/start/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Start ClickHouse node",
                "summary": "Start ClickHouse node",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/node/stop/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Stop ClickHouse node",
                "summary": "Stop ClickHouse node",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/node/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Add ClickHouse node",
                "summary": "Add ClickHouse node",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.AddNodeReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Delete ClickHouse node",
                "summary": "Delete ClickHouse node",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "default": "192.168.101.105",
                        "description": "node ip address",
                        "name": "ip",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/open_sessions/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get open sessions",
                "summary": "Get open sessions",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "10",
                        "description": "sessions limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[{\"startTime\":1609997894,\"queryDuration\":1,\"query\":\"SELECT DISTINCT name FROM system.tables\",\"user\":\"eoi\",\"queryId\":\"62dce71d-9294-4e47-9d9b-cf298f73233d\",\"address\":\"192.168.21.73\",\"threads\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Kill open sessions",
                "summary": "Kill open sessions",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "10",
                        "description": "sessions limit",
                        "name": "limit",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[{\"startTime\":1609997894,\"queryDuration\":1,\"query\":\"SELECT DISTINCT name FROM system.tables\",\"user\":\"eoi\",\"queryId\":\"62dce71d-9294-4e47-9d9b-cf298f73233d\",\"address\":\"192.168.21.73\",\"threads\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/partition/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "get partition infomation",
                "summary": "GetPartitions",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/ping/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "check clickhousr server in cluster wether useful",
                "summary": "Ping cluster",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.PingClusterReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/purge_tables/{clusterName}": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "purger table",
                "summary": "Purger Tables Range",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.PurgerTableReq"
                        }
                    },
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/query/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Query Info",
                "summary": "Query Info",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "show databases",
                        "description": "sql",
                        "name": "query",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[[\"name\"],[\"default\"],[\"system\"]]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/query_explain/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "get explain of query",
                "summary": "QueryExplain",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/query_history/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "get query history",
                "summary": "QueryHistory",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "delete query history",
                "summary": "DeleteQuery",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/rebalance/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Rebanlance a ClickHouse cluster",
                "summary": "Rebanlance a ClickHouse cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/slow_sessions/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get slow sessions",
                "summary": "Get slow sessions",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "10",
                        "description": "sessions limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "sessions limit",
                        "name": "start",
                        "in": "query"
                    },
                    {
                        "type": "string",
                        "description": "sessions limit",
                        "name": "end",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[{\"startTime\":1609986493,\"queryDuration\":145,\"query\":\"select * from dist_sensor_dt_result_online limit 10000\",\"user\":\"default\",\"queryId\":\"8aa3de08-92c4-4102-a83d-2f5d88569dab\",\"address\":\"::1\",\"threads\":2}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/start/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Start ClickHouse cluster",
                "summary": "Start ClickHouse cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/stop/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Stop ClickHouse cluster",
                "summary": "Stop ClickHouse cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/table/readoly/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "restore replica to  recover readonly",
                "summary": "RestoreReplica",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5003\",\"retMsg\":\"alter ClickHouse table failed\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/table/ttl/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Alter Tables TTL",
                "summary": "AlterTableTTL",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.AlterCkTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5003\",\"retMsg\":\"alter ClickHouse table failed\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/table/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Describe Table",
                "summary": "Describe Table",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "default",
                        "description": "database name",
                        "name": "database",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "test_table",
                        "description": "table name",
                        "name": "tableName",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[{\"name\":\"_timestamp\",\"type\":\"DateTime\",\"defaultType\":\"\",\"defaultExpression\":\"\",\"comment\":\"\",\"codecExpression\":\"\",\"ttlExpression\":\"\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Alter Table",
                "summary": "Alter Table",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.AlterCkTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5003\",\"retMsg\":\"alter ClickHouse table failed\",\"entity\":\"\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Create Table",
                "summary": "Create Table",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CreateCkTableReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Delete Table",
                "summary": "Delete Table",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "default",
                        "description": "database name",
                        "name": "database",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "test_table",
                        "description": "table name",
                        "name": "tableName",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/table_lists/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "get table lists config",
                "summary": "get table lists",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":{\\\"default\\\":{\\\"dist_centers\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_centers111\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_ckcenters\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_ckcenters2\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_centers\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_centers111\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_ckcenters\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"],\\\"dist_logic_ckcenters2\\\":[\\\"@message\\\",\\\"@topic\\\",\\\"@@id\\\",\\\"@rownumber\\\",\\\"@ip\\\",\\\"@collectiontime\\\",\\\"@hostname\\\",\\\"@path\\\",\\\"@timestamp\\\",\\\"@storageTime\\\"]}}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/table_metric/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get metrics of MergeTree in ClickHouse",
                "summary": "Get metrics of MergeTree in ClickHouse",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":{\"sensor_dt_result_online\":{\"columns\":22,\"rows\":1381742496,\"parts\":192,\"space\":54967700946,\"completedQueries\":5,\"failedQueries\":0,\"queryCost\":{\"middle\":130,\"secondaryMax\":160.76,\"max\":162}}}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/table_schema/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "show create table",
                "summary": "show create table",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"{\\\"create_table_query\\\": \\\"CREATE TABLE default.apache_access_log (`@collectiontime` DateTime, `@hostname` LowCardinality(String), `@ip` LowCardinality(String), `@path` String, `@lineno` Int64, `@message` String, `agent` String, `auth` String, `bytes` Int64, `clientIp` String, `device_family` LowCardinality(String), `httpversion` LowCardinality(String), `ident` String, `os_family` LowCardinality(String), `os_major` LowCardinality(String), `os_minor` LowCardinality(String), `referrer` String, `request` String, `requesttime` Float64, `response` LowCardinality(String), `timestamp` DateTime64(3), `userAgent_family` LowCardinality(String), `userAgent_major` LowCardinality(String), `userAgent_minor` LowCardinality(String), `verb` LowCardinality(String), `xforwardfor` LowCardinality(String)) ENGINE = ReplicatedMergeTree('/clickhouse/tables/{cluster}/{shard}/default/apache_access_log', '{replica}') PARTITION BY toYYYYMMDD(timestamp) ORDER BY (timestamp, `@hostname`, `@path`, `@lineno`) SETTINGS index_granularity = 8192  ReplicatedMergeTree('/clickhouse/tables/{cluster}/{shard}/default/apache_access_log', '{replica}') PARTITION BY toYYYYMMDD(timestamp) ORDER BY (timestamp, `@hostname`, `@path`, `@lineno`) SETTINGS index_granularity = 8192\\\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ck/upgrade/{clusterName}": {
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Upgrade ClickHouse cluster",
                "summary": "Upgrade ClickHouse cluster",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "password",
                        "name": "password",
                        "in": "query"
                    },
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CkUpgradeCkReq"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/deploy/ck": {
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Deploy clickhouse",
                "summary": "Deploy clickhouse",
                "parameters": [
                    {
                        "description": "request body",
                        "name": "req",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/model.CKManClickHouseConfig"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metric/query/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Query",
                "summary": "Query",
                "parameters": [
                    {
                        "type": "string",
                        "default": "ClickHouseMetrics_Read",
                        "description": "metric name",
                        "name": "metric",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "1606290000",
                        "description": "metric time",
                        "name": "time",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[{\"metric\":{\"__name__\":\"ClickHouseMetrics_Read\",\"instance\":\"192.168.101.105:9363\",\"job\":\"clickhouse_exporter\"},\"value\":[1606290000,\"2\"]}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/metric/query_range/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Query Range",
                "summary": "Query Range",
                "parameters": [
                    {
                        "type": "string",
                        "default": "ClickHouseMetrics_Read",
                        "description": "metric name",
                        "name": "metric",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "1606290000",
                        "description": "start time",
                        "name": "start",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "1606290120",
                        "description": "end time",
                        "name": "end",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "60",
                        "description": "step window",
                        "name": "step",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[{\"metric\":{\"__name__\":\"ClickHouseMetrics_Read\",\"instance\":\"192.168.101.105:9363\",\"job\":\"clickhouse_exporter\"},\"values\":[[1606290000,\"2\"],[1606290060,\"2\"],[1606290120,\"2\"]]}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/package": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get package list",
                "summary": "Get package list",
                "parameters": [
                    {
                        "type": "string",
                        "default": "all",
                        "description": "pkgType",
                        "name": "pkgType",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":[{\"version\":\"22.3.9.19\",\"pkgType\":\"x86_64.rpm\",\"pkgName\":\"clickhouse-common-static-22.3.9.19.x86_64.rpm\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Upload package",
                "consumes": [
                    "multipart/form-data"
                ],
                "summary": "Upload package",
                "parameters": [
                    {
                        "type": "file",
                        "description": "package",
                        "name": "package",
                        "in": "formData",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Delete package",
                "summary": "Delete package",
                "parameters": [
                    {
                        "type": "string",
                        "default": "22.3.9.19",
                        "description": "package version",
                        "name": "packageVersion",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "default": "x86_64.rpm",
                        "description": "package type",
                        "name": "pkgType",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/task/lists": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get all tasklist",
                "summary": "TasksList",
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":[{\\\"TaskId\\\":\\\"608e9e83-715e-7448-a149-9bef33f38cfe\\\",\\\"ClusterName\\\":\\\"usertest\\\",\\\"Type\\\":\\\"clickhouse\\\",\\\"Option\\\":{\\\"ZH\\\":\\\"\\\",\\\"EN\\\":\\\"Upgrade\\\"},\\\"Status\\\":\\\"Success\\\",\\\"Message\\\":\\\"Success\\\",\\\"CreateTime\\\":\\\"2022-08-15T10:38:52.319504494+08:00\\\",\\\"UpdateTime\\\":\\\"2022-08-15T10:39:22.177215927+08:00\\\",\\\"Duration\\\":\\\"29s\\\"},{\\\"TaskId\\\":\\\"c6ee8843-36ba-4c88-94dd-0f226cdf8377\\\",\\\"ClusterName\\\":\\\"abc\\\",\\\"Type\\\":\\\"clickhouse\\\",\\\"Option\\\":{\\\"ZH\\\":\\\"\\\",\\\"EN\\\":\\\"Setting\\\"},\\\"Status\\\":\\\"Success\\\",\\\"Message\\\":\\\"Success\\\",\\\"CreateTime\\\":\\\"2022-08-09T14:28:00.697211511+08:00\\\",\\\"UpdateTime\\\":\\\"2022-08-09T14:28:59.887673161+08:00\\\",\\\"Duration\\\":\\\"59s\\\"}]}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/task/running": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get running task count",
                "summary": "GetRunningTaskCount",
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":3}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/task/{taskId}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get task by taskId",
                "summary": "GetTaskById",
                "parameters": [
                    {
                        "type": "string",
                        "default": "608e9e83-715e-7448-a149-9bef33f38cfe",
                        "description": "task id",
                        "name": "taskId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":{\\\"TaskId\\\":\\\"608e9e83-715e-7448-a149-9bef33f38cfe\\\",\\\"ClusterName\\\":\\\"usertest\\\",\\\"Type\\\":\\\"clickhouse\\\",\\\"Option\\\":{\\\"ZH\\\":\\\"\\\",\\\"EN\\\":\\\"Upgrade\\\"},\\\"NodeStatus\\\":[{\\\"Host\\\":\\\"192.168.110.10\\\",\\\"Status\\\":{\\\"ZH\\\":\\\"\\\",\\\"EN\\\":\\\"Prepare\\\"}},{\\\"Host\\\":\\\"192.168.110.12\\\",\\\"Status\\\":{\\\"ZH\\\":\\\"\\\",\\\"EN\\\":\\\"Prepare\\\"}},{\\\"Host\\\":\\\"192.168.110.14\\\",\\\"Status\\\":{\\\"ZH\\\":\\\"\\\",\\\"EN\\\":\\\"Prepare\\\"}}]}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "put": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "stop task by taskid",
                "summary": "StopTask",
                "parameters": [
                    {
                        "type": "string",
                        "default": "608e9e83-715e-7448-a149-9bef33f38cfe",
                        "description": "taskId",
                        "name": "taskId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "delete task by taskid",
                "summary": "DeleteTask",
                "parameters": [
                    {
                        "type": "string",
                        "default": "608e9e83-715e-7448-a149-9bef33f38cfe",
                        "description": "taskId",
                        "name": "taskId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"success\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/ui/schema": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get ui schema",
                "summary": "Get ui schema",
                "parameters": [
                    {
                        "type": "string",
                        "default": "deploy",
                        "description": "type",
                        "name": "type",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5206\",\"retMsg\":\"get schema ui failed\",\"entity\":nil}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/version": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get Version",
                "summary": "Get Version",
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":\"v1.3.1\"}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/zk/replicated_table/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get replicated table in Zookeeper status",
                "summary": "Get replicated table in  Zookeeper status",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"0000\",\"retMsg\":\"ok\",\"entity\":{\"header\":[[\"vm101106\",\"vm101108\"],[\"vm102114\",\"vm101110\"],[\"vm102116\",\"vm102115\"]],\"tables\":[{\"name\":\"sensor_dt_result_online\",\"values\":[[\"l1846\",\"f1846\"],[\"l1845\",\"f1845\"],[\"l1846\",\"f1846\"]]}]}}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        },
        "/api/v1/zk/status/{clusterName}": {
            "get": {
                "security": [
                    {
                        "ApiKeyAuth": []
                    }
                ],
                "description": "Get Zookeeper cluster status",
                "summary": "Get Zookeeper cluster status",
                "parameters": [
                    {
                        "type": "string",
                        "default": "test",
                        "description": "cluster name",
                        "name": "clusterName",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "{\"retCode\":\"5080\",\"retMsg\":\"get zk status fail\",\"entity\":null}",
                        "schema": {
                            "type": "string"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "model.AddNodeReq": {
            "type": "object",
            "properties": {
                "ips": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.0.1",
                        "192.168.0.2"
                    ]
                },
                "shard": {
                    "type": "integer",
                    "example": 3
                }
            }
        },
        "model.AlterCkTableReq": {
            "type": "object",
            "properties": {
                "add": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableNameTypeAfter"
                    }
                },
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "drop": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "age"
                    ]
                },
                "modify": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableNameType"
                    }
                },
                "name": {
                    "type": "string",
                    "example": "test_table"
                },
                "rename": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableRename"
                    }
                }
            }
        },
        "model.ArchiveTableReq": {
            "type": "object",
            "properties": {
                "begin": {
                    "type": "string",
                    "example": "2021-01-01"
                },
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "end": {
                    "type": "string",
                    "example": "2021-04-01"
                },
                "hdfsaddr": {
                    "type": "string",
                    "example": "localhost:8020"
                },
                "hdfsdir": {
                    "type": "string",
                    "example": "/data01"
                },
                "hdfsuser": {
                    "type": "string",
                    "example": "hdfs"
                },
                "maxfilesize": {
                    "type": "integer",
                    "example": 10000000000
                },
                "parallelism": {
                    "type": "integer",
                    "example": 4
                },
                "tables": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "t1",
                        "t2",
                        "t3"
                    ]
                }
            }
        },
        "model.CKManClickHouseConfig": {
            "type": "object",
            "properties": {
                "authenticateType": {
                    "type": "integer",
                    "example": 0
                },
                "cluster": {
                    "type": "string",
                    "example": "test"
                },
                "cwd": {
                    "type": "string",
                    "example": "/home/eoi/clickhouse"
                },
                "expert": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "hosts": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.0.1",
                        "192.168.0.2",
                        "192.168.0.3",
                        "192.168.0.4"
                    ]
                },
                "isReplica": {
                    "type": "boolean",
                    "example": true
                },
                "logic_cluster": {
                    "type": "string",
                    "example": "logic_test"
                },
                "password": {
                    "type": "string",
                    "example": "123456"
                },
                "path": {
                    "type": "string",
                    "example": "/var/lib/"
                },
                "pkgName": {
                    "type": "string",
                    "example": "clickhouse-common-static-22.3.3.44.noarch.rpm"
                },
                "pkgType": {
                    "type": "string",
                    "example": "x86_64.rpm"
                },
                "port": {
                    "type": "integer",
                    "example": 9000
                },
                "promHost": {
                    "type": "string",
                    "example": "127.0.0.1"
                },
                "promPort": {
                    "type": "integer",
                    "example": 9090
                },
                "sshPassword": {
                    "type": "string",
                    "example": "123456"
                },
                "sshPort": {
                    "type": "integer",
                    "example": 22
                },
                "sshUser": {
                    "type": "string",
                    "example": "root"
                },
                "storage": {
                    "$ref": "#/definitions/model.Storage"
                },
                "user": {
                    "type": "string",
                    "example": "ck"
                },
                "version": {
                    "type": "string",
                    "example": "21.9.1.7647"
                },
                "zkNodes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.0.1",
                        "192.168.0.2",
                        "192.168.0.3"
                    ]
                },
                "zkPort": {
                    "type": "integer",
                    "example": 2181
                },
                "zkStatusPort": {
                    "type": "integer",
                    "example": 8080
                }
            }
        },
        "model.CkImportConfig": {
            "type": "object",
            "properties": {
                "cluster": {
                    "type": "string",
                    "example": "test"
                },
                "hosts": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.101.105",
                        "192.168.101.107"
                    ]
                },
                "httpPort": {
                    "type": "integer",
                    "example": 8123
                },
                "logic_cluster": {
                    "type": "string",
                    "example": "logic_test"
                },
                "password": {
                    "type": "string",
                    "example": "123456"
                },
                "port": {
                    "type": "integer",
                    "example": 9000
                },
                "prom_host": {
                    "type": "string",
                    "example": "127.0.01"
                },
                "prom_port": {
                    "type": "integer",
                    "example": 9090
                },
                "user": {
                    "type": "string",
                    "example": "ck"
                },
                "zkNodes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "192.168.101.102",
                        "192.168.101.105",
                        "192.168.101.107"
                    ]
                },
                "zkPort": {
                    "type": "integer",
                    "example": 2181
                },
                "zkStatusPort": {
                    "type": "integer",
                    "example": 8080
                }
            }
        },
        "model.CkTableNameType": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "options": {
                    "description": "example:[\"DEFAULT now()\", \"CODEC(NONE)\"]",
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "type": {
                    "type": "string",
                    "example": "DateTime"
                }
            }
        },
        "model.CkTableNameTypeAfter": {
            "type": "object",
            "properties": {
                "after": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "name": {
                    "type": "string",
                    "example": "age"
                },
                "options": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "DEFAULT now()",
                        "CODEC(NONE)",
                        "COMMENT",
                        ""
                    ]
                },
                "type": {
                    "type": "string",
                    "example": "Int32"
                }
            }
        },
        "model.CkTablePartition": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "policy": {
                    "description": "0 split partition by day\n1 split partition by week\n2 split partition by month",
                    "type": "integer",
                    "example": 0
                }
            }
        },
        "model.CkTableRename": {
            "type": "object",
            "properties": {
                "from": {
                    "type": "string",
                    "example": "col_old"
                },
                "to": {
                    "type": "string",
                    "example": "col_new"
                }
            }
        },
        "model.CkTableTTL": {
            "type": "object",
            "properties": {
                "action": {
                    "type": "string",
                    "example": "toVolume"
                },
                "interval": {
                    "type": "integer",
                    "example": 3
                },
                "target": {
                    "type": "string",
                    "example": "main"
                },
                "time_column": {
                    "type": "string",
                    "example": "_timestamp"
                },
                "unit": {
                    "type": "string",
                    "example": "MONTH"
                }
            }
        },
        "model.CkUpgradeCkReq": {
            "type": "object",
            "properties": {
                "packageVersion": {
                    "type": "string",
                    "example": "22.3.6.5"
                },
                "policy": {
                    "type": "string",
                    "example": "Rolling"
                },
                "skip": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "model.CreateCkTableReq": {
            "type": "object",
            "properties": {
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "distinct": {
                    "type": "boolean",
                    "example": true
                },
                "dryrun": {
                    "type": "boolean",
                    "example": false
                },
                "fields": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableNameType"
                    }
                },
                "name": {
                    "type": "string",
                    "example": "test_table"
                },
                "order": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "_timestamp"
                    ]
                },
                "partition": {
                    "$ref": "#/definitions/model.CkTablePartition"
                },
                "storage_policy": {
                    "type": "string",
                    "example": "external"
                },
                "ttl": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.CkTableTTL"
                    }
                }
            }
        },
        "model.Disk": {
            "type": "object",
            "properties": {
                "diskHdfs": {
                    "$ref": "#/definitions/model.DiskHdfs"
                },
                "name": {
                    "type": "string",
                    "example": "hdfs1"
                },
                "type": {
                    "type": "string",
                    "example": "hdfs"
                }
            }
        },
        "model.DiskHdfs": {
            "type": "object",
            "properties": {
                "endpoint": {
                    "type": "string",
                    "example": "hdfs://localhost:8020/clickhouse/data/test/"
                }
            }
        },
        "model.DistLogicTableReq": {
            "type": "object",
            "properties": {
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "table_name": {
                    "type": "string",
                    "example": "test_table"
                }
            }
        },
        "model.GetLogReq": {
            "type": "object",
            "properties": {
                "lines": {
                    "type": "integer",
                    "example": 1000
                },
                "logType": {
                    "type": "string",
                    "example": "normal"
                },
                "tail": {
                    "type": "boolean",
                    "example": true
                }
            }
        },
        "model.LoginReq": {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string",
                    "example": "63cb91a2ceb9d4f7c8b1ba5e50046f52"
                },
                "username": {
                    "type": "string",
                    "example": "ckman"
                }
            }
        },
        "model.PingClusterReq": {
            "type": "object",
            "properties": {
                "password": {
                    "type": "string",
                    "example": "123456"
                },
                "user": {
                    "type": "string",
                    "example": "ck"
                }
            }
        },
        "model.Policy": {
            "type": "object",
            "properties": {
                "moveFactor": {
                    "type": "number",
                    "example": 0.1
                },
                "name": {
                    "type": "string",
                    "example": "hdfs_only"
                },
                "volumns": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Volumn"
                    }
                }
            }
        },
        "model.PurgerTableReq": {
            "type": "object",
            "properties": {
                "begin": {
                    "type": "string",
                    "example": "2021-01-01"
                },
                "database": {
                    "type": "string",
                    "example": "default"
                },
                "end": {
                    "type": "string",
                    "example": "2021-04-01"
                },
                "tables": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "t1",
                        "t2",
                        "t3"
                    ]
                }
            }
        },
        "model.Storage": {
            "type": "object",
            "properties": {
                "disks": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Disk"
                    }
                },
                "policies": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/model.Policy"
                    }
                }
            }
        },
        "model.Volumn": {
            "type": "object",
            "properties": {
                "disks": {
                    "description": "Every disk shall be in storage.Disks",
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "default",
                        "hdfs1"
                    ]
                },
                "maxDataPartSizeBytes": {
                    "type": "integer",
                    "example": 10000000
                },
                "name": {
                    "type": "string",
                    "example": "main"
                },
                "preferNotToMerge": {
                    "type": "string",
                    "example": "true"
                }
            }
        }
    },
    "securityDefinitions": {
        "ApiKeyAuth": {
            "type": "apiKey",
            "name": "token",
            "in": "header"
        }
    }
}